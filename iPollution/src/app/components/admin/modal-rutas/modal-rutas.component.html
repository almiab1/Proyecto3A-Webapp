<ion-header>
    <ion-toolbar color="secundario">

        <ion-grid>
            <ion-row style="justify-content: space-around; align-items: center;">
                <ion-icon (click)="closeModal()" name="arrow-back" color="acentuado" size="large" expand="full">
                </ion-icon>
                <ion-title mode="ios" color="acentuado" size="large" class=" ion-text-center" expand="full">
                    {{tituloComponent}}
                </ion-title>
            </ion-row>
        </ion-grid>

    </ion-toolbar>
</ion-header>

<ion-content>

    <ion-segment (ionChange)="cambiarModoRutas($event.target.value)" vertical="top" horizontal="start" slot="fixed" color="acentuado" >
        <ion-segment-button value="editar" color="acentuado">
          <ion-label>Editar</ion-label>
        </ion-segment-button>
        <ion-segment-button value="crear" color="acentuado">
          <ion-label>Crear</ion-label>
        </ion-segment-button>
      </ion-segment>

    <ion-item vertical="top" horizontal="start" slot="fixed" >
        <ion-grid>
            <ion-row style="justify-content: space-around; align-items: center;" *ngIf="tipoModal == 'crear'">
                <ion-item>
                    <ion-label position="floating">Latitud: </ion-label>
                    <ion-input type="number" [(ngModel)]="nuevoPuntoLat" id="input"> </ion-input>
                </ion-item>
                <ion-item>
                    <ion-label position="floating">Longitud: </ion-label>
                    <ion-input type="number" [(ngModel)]="nuevoPuntoLng" id="input"> </ion-input>
                </ion-item>

                <ion-button color="warning" expand="full">
                    <ion-icon name="add"></ion-icon>
                </ion-button>

                <ion-button color="success" (click)="closeModal('guardar')">
                    <ion-icon  name="save"></ion-icon>
                </ion-button>
            </ion-row>

            <ion-row *ngIf="tipoModal == 'editar'" style="justify-content: space-around; align-items: center;">
                <ion-item *ngIf="tituloComponent == 'Rutas Predefinidas'">
                    <ion-label>
                        <h3>Rutas predefinidas:</h3>
                    </ion-label>
            
                    <ion-select #selectPredefinidas name="selectRutaPredefinida" multiple="false" cancelText="Cancelar"
                        okText="Cargar" [(ngModel)]="rutaSeleccionadaPredefinida" [compareWith]="compareById"
                        (ionChange)="onSelectRutaPredefinida()" color="secundario" expand="full"
                        interface="action-sheet" mode="ios" >
                        <ion-select-option *ngFor="let ruta of rutasPredefinidas" value="{{ ruta.nombreRuta }}"
                            color="acentuado">
                            Ruta - {{ ruta.nombreRuta }}
                        </ion-select-option>
                    </ion-select>
                </ion-item>

                <ion-button size="medium" color="danger" (click)="abrirSelect('selectPredefinidas')">
                    <ion-icon name="trash"></ion-icon>
                </ion-button>
            </ion-row>
        </ion-grid>
    </ion-item>

    <div hidden>
        <ion-select #selectPredefinidasAEliminar name="selectRutaPredefinida" multiple="false" cancelText="Cancelar"
                        okText="Cargar" [(ngModel)]="rutaSeleccionadaPredefinida" [compareWith]="compareById"
                        (ionChange)="onSelectRutaPredefinidaAEliminar()" color="secundario" expand="full"
                        interface="alert" mode="ios" >
                        <ion-select-option *ngFor="let ruta of rutasPredefinidas" value="{{ ruta.nombreRuta }}"
                            color="acentuado">
                            Ruta - {{ ruta.nombreRuta }}
                        </ion-select-option>
                    </ion-select>
    </div>
    <div #mapElement class="mapElement" slot="fixed" expand="block"></div>

</ion-content>