<ion-menu contentId="main-content" type="overlay">
  <ion-content color="secondary">
    <ion-grid>
      <ion-row>
        <ion-col>
          <div>
            <ion-list lines="full" mode="ios">
              <div *ngFor="let p of appPages">
                <ion-menu-toggle>
                  <div *ngIf="p.subPages == undefined || p.subPages.length === 0">
                    <ion-item [routerDirection]="'root'" [routerLink]="[p.url]" color="secondary" detail="false">
                      <ion-icon slot="start" [name]="p.icon" color="accent"></ion-icon>
                      <ion-label color="accent">
                        {{p.title}}
                      </ion-label>
                    </ion-item>
                  </div>
                </ion-menu-toggle>

                <div *ngIf="p.subPages?.length > 0">
                  <ion-item (click)="p.open = !p.open" color="secondary">
                    <ion-icon slot="start" [name]="p.icon" color="accent"></ion-icon>
                    <ion-label color="accent">{{p.title}}</ion-label>
                    <ion-icon slot="end" name="arrow-forward" *ngIf="!p.open" color="accent"></ion-icon>
                    <ion-icon slot="end" name="arrow-down" *ngIf="p.open" color="accent"></ion-icon>
                  </ion-item>
                </div>

                <div *ngIf="p.open">
                  <ion-menu-toggle auto-hide="false">
                    <ion-item *ngFor="let s of p.subPages" [routerDirection]="'root'" [routerLink]="[s.url]"
                              color="secondary" expand="full">
                      <ion-icon [name]="s.icon" color="accent" class="ion-margin-horizontal"></ion-icon>
                      <ion-label color="accent">
                        {{s.title}}
                      </ion-label>
                    </ion-item>
                  </ion-menu-toggle>
                </div>
              </div>
            </ion-list>
          </div>
        </ion-col>
      </ion-row>

      <ion-row class="ion-align-items-baseline">
        <ion-col class="ion-margin">
          <div>
            <ion-button *ngIf="rolUser === 0" (click)="loginModal()" size="large" expand="block" class="login-button" mode="ios">
              <ion-icon name="log-in" class="larger"></ion-icon>
              <p>Entrar</p>
            </ion-button>
          </div>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-content>
</ion-menu>

